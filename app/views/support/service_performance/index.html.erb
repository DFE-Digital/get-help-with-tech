<% content_for :title, t('page_titles.service_performance') %>

<h1 class="govuk-heading-xl">
  <%= t('page_titles.service_performance') %>
</h1>

<h2 class="govuk-heading-l">Sign-ins</h2>

<div class="govuk-!-margin-bottom-4">
  <div class="app-card app-card--blue">
    <span class="app-card__count"><%= @service_performance.total_signed_in_users %></span>
    users have signed in
  </div>
</div>

<div class="govuk-grid-row govuk-!-margin-bottom-4">
  <div class="govuk-grid-column-one-half">
    <div class="app-card">
      <span class="app-card__count"><%= @service_performance.number_of_different_responsible_bodies_signed_in %></span>
      different responsible bodies
    </div>
  </div>
  <div class="govuk-grid-column-one-half">
    <div class="app-card">
      <span class="app-card__count"><%= @service_performance.number_of_different_mnos_signed_in %></span>
      different mobile network operators
    </div>
  </div>
</div>

<h2 class="govuk-heading-l govuk-!-margin-top-8">BT hotspots</h2>

<div class="govuk-grid-row govuk-!-margin-bottom-4">
  <div class="govuk-grid-column-one-half">
    <div class="app-card">
      <span class="app-card__count"><%= number_with_delimiter(@service_performance.number_of_distributed_bt_wifi_vouchers) %></span>
      vouchers downloaded by <%= @service_performance.number_of_responsible_bodies_with_distributed_bt_wifi_vouchers %> responsible bodies
    </div>
  </div>
</div>

<h2 class="govuk-heading-l govuk-!-margin-top-8">Mobile data requests</h2>

<div class="govuk-grid-row govuk-!-margin-bottom-4">
  <div class="govuk-grid-column-full">
    <div class="app-card app-card--blue">
      <span class="app-card__count"><%= @service_performance.total_extra_mobile_data_requests %></span>
      requests
    </div>
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-quarter">
    <div class="app-card">
      <span class="app-card__secondary-count">
        <%= @service_performance.extra_mobile_data_requests_by_status['requested'] || 0 %>
      </span>
      requested
    </div>
  </div>
  <div class="govuk-grid-column-one-quarter">
    <div class="app-card">
      <span class="app-card__secondary-count">
        <%= @service_performance.extra_mobile_data_requests_by_status['in_progress'] || 0 %>
      </span>
      in progress
    </div>
  </div>
  <div class="govuk-grid-column-one-quarter">
    <div class="app-card app-card--red">
      <span class="app-card__secondary-count">
        <%= @service_performance.extra_mobile_data_requests_by_status['queried'] || 0 %>
      </span>
      not valid
    </div>
  </div>
  <div class="govuk-grid-column-one-quarter">
    <div class="app-card app-card--green">
      <span class="app-card__secondary-count">
        <%= @service_performance.extra_mobile_data_requests_by_status['complete'] || 0 %>
      </span>
      completed
    </div>
  </div>
</div>

<div class="govuk-grid-row govuk-!-margin-top-4">
  <div class="govuk-grid-column-one-half">
    <table class="govuk-table">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-table__header">Network</th>
          <th scope="col" class="govuk-table__header govuk-table__header--numeric">Requests</th>
        </tr>
      </thead>

      <tbody class="govuk-table__body">
        <% @service_performance.extra_mobile_data_requests_by_mobile_network_brand.each do |mno_name, count| %>
          <tr class="govuk-table__row">
            <td class="govuk-table__cell"><%= mno_name %></td>
            <td class="govuk-table__cell govuk-table__cell--numeric"><%= count %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
